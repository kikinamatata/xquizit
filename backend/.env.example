# ============================================================================
# XQUIZIT - AI Interview Screening System Configuration
# ============================================================================

# ============================================================================
# GOOGLE GEMINI API (Required)
# ============================================================================
# Get your API key from: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your_google_gemini_api_key_here
# Gemini model to use (default: gemini-2.5-flash)
GEMINI_MODEL=gemini-2.5-flash

# LLM Optimization Parameters
GEMINI_THINKING_BUDGET=1024         # 0 = disabled, higher = more thinking time
GEMINI_INCLUDE_THOUGHTS=false     # Include reasoning in responses (for debugging)
GEMINI_MAX_OUTPUT_TOKENS=1024     # Limit response size
GEMINI_TEMPERATURE=0.7            # 0.0 = deterministic, 1.0 = creative

# ============================================================================
# CHATTERBOX TTS (Real-Time Streaming Text-to-Speech with Voice Cloning)
# ============================================================================
# Chatterbox provides ultra-low latency streaming TTS with voice cloning
# Installation: pip install chatterbox-tts

# Voice Cloning - REQUIRED
# Path to reference audio file (WAV format recommended, 24kHz)
# This audio will be used to clone the voice characteristics
CHATTERBOX_REFERENCE_AUDIO=./reference_voice.wav

# Device Configuration
# "cuda" for GPU (recommended), "cpu" for CPU-only
CHATTERBOX_DEVICE=cuda

# Streaming Parameters (Basic)
# chunk_size: Tokens per audio chunk (lower = faster TTFA, higher = smoother)
# Recommended range: 15-30 (default: 25)
CHATTERBOX_CHUNK_SIZE=25

# Advanced Streaming Parameters
# context_window: Tokens of context for continuity (default: 50)
CHATTERBOX_CONTEXT_WINDOW=50

# fade_duration: Audio fade transition in seconds (prevents clicks)
# Recommended: 0.01-0.05 seconds (default: 0.02)
CHATTERBOX_FADE_DURATION=0.02

# Generation Quality
# cfm_steps: Conditional Flow Matching inference steps
# Lower = faster but lower quality, Higher = slower but better quality
# Recommended: 7 for real-time, 10+ for highest quality
CHATTERBOX_CFM_STEPS=7

# Performance Optimization
# use_fp16: Use half-precision for 2x speed and 50% memory reduction
# Requires CUDA-capable GPU (ignored on CPU)
CHATTERBOX_USE_FP16=true

# optimize_gpu: Enable CUDA graph compilation for 30-50% speedup
# First generation will be slower (compilation), subsequent fast
CHATTERBOX_OPTIMIZE_GPU=true

# Model Loading
# preload: Load model at startup for instant TTS (recommended for production)
# Set to false to defer loading until first request (saves startup time)
CHATTERBOX_PRELOAD=true

# ============================================================================
# EMBEDDED WHISPER TRANSCRIPTION (Real-time Speech-to-Text)
# ============================================================================
# Model: tiny, small, medium, large-v3, distil-large-v3 (recommended)
WHISPER_MODEL=distil-large-v3

# Device: "cuda" (GPU) or "cpu"
WHISPER_DEVICE=cuda

# Compute precision: float16 (fast), float32 (accurate), int8 (memory-efficient)
WHISPER_COMPUTE_TYPE=float16

# Language code (e.g., en, es, fr, de)
WHISPER_LANGUAGE=en

# Voice Activity Detection
WHISPER_USE_VAD=true              # Enable VAD for silence filtering
WHISPER_NO_SPEECH_THRESH=0.65    # Silence threshold (0.0-1.0)

# Transcription behavior
WHISPER_CHUNK_INTERVAL=0.5        # Min seconds before transcription
WHISPER_SAME_OUTPUT_THRESHOLD=5   # Repeated outputs before finalizing

# Logging
TRANSCRIPTION_LOGGING_ENABLED=true # Verbose transcription logs
